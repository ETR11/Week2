<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" type="text/css" href="src/styles.css" />
    <title>Document</title>
  </head>
  <body>
    <div class="menu-layout">
      <h1>Hello World!</h1>

      <table id="menu-table" class="header">
        <tbody>
          <tr>
            <th>Name</th>
            <th>Price</th>
          </tr>
          <tr>
            <td>Salad</td>
            <td>3,99€</td>
          </tr>
          <tr>
            <td>Steak</td>
            <td>15,69€</td>
          </tr>
          <tr>
            <td>Pizza</td>
            <td>7,99€</td>
          </tr>
          <tr>
            <td>Magic potion</td>
            <td>100,00€</td>
          </tr>
          <tr>
            <td>Action Comics #1</td>
            <td>10 000,00€</td>
          </tr>
        </tbody>
      </table>

      <form action="">
        <textarea name="commentSection" id="cs" cols="30" rows="10"></textarea>
        <button id="add-comment" type="button">
          Send
        </button>
        <button id="remove-comments" type="button">
          Remove</button
        ><br />
        <label for="rating">How was restaurant</label>
        <select name="rating" id="rating">
          <option value="good">Good</option>
          <option value="bad">Bad</option>
          <option value="ugly">Ugly</option>
          <option value="bad-and-ugly">Bad and Ugly</option>
        </select>
      </form>

      <ul id="cl" class="header"></ul>

      <script>
        /*document
          .getElementById("add-comment")
          .addEventListener("click", function () {
            const comment = document.createElement("li");
            comment.innerHTML = document.getElementById("cs").value;
            document.getElementById("cl").appendChild(comment);
          });*/
        let buttonId = 0;

        document
          .getElementById("add-comment")
          .addEventListener("click", function () {
            const comment1 = document.createElement("div");
            comment1.className = "comment";
            let cr = document.createElement("p");
            cr.className = "comment-rating";
            let ct = document.createElement("p");
            ct.className = "comment-text";
            let button = document.createElement("button");
            button.id = buttonId.toString();
            button.onclick = function () {
              const buttons = document.getElementsByClassName("remove-comment");
              for (i = 0; i < buttons.length; i++) {
                if (buttons[i].id == this.id) {
                  const list = document.getElementById("cl");
                  list.removeChild(list.childNodes[i]);
                }
              }
            };
            buttonId++;
            button.className = "remove-comment";
            button.style.visibility = "visible";
            cr.innerHTML = document.getElementById("rating").value;
            ct.innerHTML = document.getElementById("cs").value;
            comment1.appendChild(cr);
            comment1.appendChild(ct);
            comment1.appendChild(button);
            document.getElementById("cl").appendChild(comment1);
          });

        function click(node) {
          console.log(node);
          /*const buttons = document.getElementsByClassName("remove-comment");
          for (i = 0; i <= buttons.length; i++) {
            if (buttons[i].id == node) {
              const list = document.getElementById("cl");
              list.removeChild(list.childNodes[i]);
            }
          }*/
        }
        /*document
          .getElementById("remove-comments")
          .addEventListener("click", function () {
            const list = document.getElementById("cl");
            list.removeChild(list.childNodes[1]);
            buttons.style.visibility = "visible";
            let del = confirm("Delete");
            if (del == true) {
              document.getElementById("cl").innerHTML = "";
            }
          });*/
        /*document
          .getElementsByClassName("remove-comment")
          .addEventListener("click", function () {});*/
      </script>
    </div>
  </body>
</html>
